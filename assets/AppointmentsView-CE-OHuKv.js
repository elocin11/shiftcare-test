import{d as A,f as l,k as N,u as C,_ as S,c as r,a as o,t as s,o as i,g as M,h as x,b as v,i as f,r as $,F as D,j as V}from"./index-wkwfg1D6.js";import{L as Y}from"./index-Cl3pGArR.js";const B=A({props:{appointment:{type:Object,required:!0}},setup(t){const e=C(),{appointment:n}=t,d=l(()=>{var a;return N((a=n==null?void 0:n.schedule)==null?void 0:a.date).format("MMMM DD, YYYY, dddd")}),u=l(()=>e.state.appointmentStore.loading),c=l(()=>e.state.appointmentStore.error);return{data:n,formattedDate:d,cancelAppointment:()=>{confirm("Confirm cancellation?")&&e.dispatch("appointmentStore/removeAppointment",n),!u.value&&c.value&&alert(c.value)}}}}),L={class:"flex bg-[white] p-[30px] rounded"},j={class:"flex-1"},w={class:"block mb-1 text-[1.5rem] font-semibold text-black"},E={class:"block font-light"},F={class:"block font-light"},U={class:"block font-light"},q={class:"block font-light"};function I(t,e,n,d,u,c){var m,a,p,b,g,h,k,_;return i(),r("div",L,[o("div",j,[o("span",w,s(t.formattedDate)+" ("+s((a=(m=t.appointment)==null?void 0:m.schedule)==null?void 0:a.slot)+")",1),o("span",E,"Assigned doctor: "+s((p=t.appointment)==null?void 0:p.doctor),1),o("span",F,"Patient: "+s((b=t.appointment)==null?void 0:b.firstName)+" "+s((g=t.appointment)==null?void 0:g.lastName),1),o("span",U,"Contact: "+s((h=t.appointment)==null?void 0:h.mobileNumber)+" / "+s((k=t.appointment)==null?void 0:k.emailAddress),1),e[1]||(e[1]=o("br",null,null,-1)),e[2]||(e[2]=o("span",{class:"block font-semibold text-black"},"Chief Complaint:",-1)),o("p",q,s((_=t.appointment)==null?void 0:_.chiefComplaint),1)]),o("button",{onClick:e[0]||(e[0]=(...y)=>t.cancelAppointment&&t.cancelAppointment(...y)),class:"mb-auto py-[5px] px-[10px] rounded text-[#df5547] mt-[10px] flex items-center flex-column border border-[#df5547]"}," Cancel appointment ")])}const O=S(B,[["render",I],["__scopeId","data-v-c8aaa8d1"]]),P=A({components:{AppointmentCard:O,Loading:Y},setup(){const t=C(),e=l(()=>t.state.appointmentStore.loading),n=l(()=>t.state.appointmentStore.error),d=l(()=>t.state.appointmentStore.appointments);return M(()=>{t.dispatch("appointmentStore/fetchAppointments")}),x(()=>{t.commit("appointmentStore/setError",null)}),{appointments:d,loading:e,error:n}}}),z={class:"mt-[20px]"},G={key:0,class:"p-[20px] mt-5 text-[#f15054] bg-[#ffe5e4] border-0 rounded border"},H={key:1},J={class:"mt-[20px]"},K={key:0};function Q(t,e,n,d,u,c){const m=$("loading"),a=$("AppointmentCard");return i(),r("div",z,[v(m,{active:t.loading,"onUpdate:active":e[0]||(e[0]=p=>t.loading=p),"can-cancel":!0,"is-full-page":!1},null,8,["active"]),t.error?(i(),r("div",G,s(t.error),1)):f("",!0),!t.loading&&!t.error?(i(),r("div",H,[e[1]||(e[1]=o("h1",{class:"text-[1.5rem] text-black"},"My Appointments",-1)),o("ul",J,[(i(!0),r(D,null,V(t.appointments,p=>(i(),r("li",{key:p.name,class:"mb-5"},[v(a,{appointment:p},null,8,["appointment"])]))),128))]),t.appointments.length?f("",!0):(i(),r("div",K,"No data to display"))])):f("",!0)])}const W=S(P,[["render",Q]]);export{W as default};
